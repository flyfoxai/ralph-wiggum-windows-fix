{
  "description": "Ralph Wiggum plugin stop hook for self-referential loops with intelligent cross-platform routing",
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "comment": "Windows native - PowerShell router for environment detection",
            "command": "pwsh -NoProfile -ExecutionPolicy Bypass -File \"${CLAUDE_PLUGIN_ROOT}/hooks/stop-hook-router.ps1\"",
            "platforms": ["win32"]
          },
          {
            "type": "command",
            "comment": "macOS and Linux - bash router with Windows path translation for WSL/Git Bash",
            "command": "bash -lc 'ROOT=\"$CLAUDE_PLUGIN_ROOT\"; if [ \"${ROOT#/}\" = \"$ROOT\" ]; then if command -v wslpath >/dev/null 2>&1; then ROOT=$(wslpath -a \"$ROOT\"); elif command -v cygpath >/dev/null 2>&1; then ROOT=$(cygpath -u \"$ROOT\"); fi; fi; exec bash \"$ROOT/hooks/stop-hook-router.sh\"'",
            "platforms": ["darwin", "linux"]
          }
        ]
      }
    ]
  }
}
